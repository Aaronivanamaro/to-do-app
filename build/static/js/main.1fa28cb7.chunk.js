(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{135:function(e,t,c){},142:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),s=c(16),a=c.n(s),r=(c(135),c(9)),i=c(11),d=c(23),j=c.n(d),l=c(96);c(143);l.a.initializeApp({apiKey:"AIzaSyAC0dbe6kltYyK4xEmVzLelMc3ZKQiOok4",authDomain:"todo-app-e9356.firebaseapp.com",projectId:"todo-app-e9356",storageBucket:"todo-app-e9356.appspot.com",messagingSenderId:"1057972825260",appId:"1:1057972825260:web:d85f2c78cf51a603244309"});var u=l.a;var b=c(4),O=Object(n.createContext)();function m(e){var t=e.children,c="today",o=Object(n.useState)(c),s=Object(r.a)(o,2),a=s[0],d=s[1],l=Object(n.useState)(void 0),m=Object(r.a)(l,2),h=m[0],f=m[1],x=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],o=t[1];return Object(n.useEffect)((function(){var e=u.firestore().collection("todos").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(i.a)({id:e.id},e.data())}));o(t)}));return function(){return e()}}),[]),c}(),p=function(e,t){var c=Object(n.useState)([]),o=Object(r.a)(c,2),s=o[0],a=o[1];return Object(n.useEffect)((function(){var c=e.map((function(e){return Object(i.a)({numOfTodos:t.filter((function(t){return t.projectName===e.name&&!t.checked})).length},e)}));a(c)}),[e,t]),s}(function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],o=t[1];return Object(n.useEffect)((function(){var e=u.firestore().collection("projects").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name}}));o(t)}));return function(){return e()}}),[]),c}(),x),v=function(e,t){var c=Object(n.useState)([]),o=Object(r.a)(c,2),s=o[0],a=o[1];return Object(n.useEffect)((function(){var c,n=j()().format("MM/DD/YYYY");c="today"===t?e.filter((function(e){return e.date===n})):"next 7 days"===t?e.filter((function(e){var t=j()(e.date,"MM/DD/YYYY"),c=j()(n,"MM/DD/YYYY"),o=t.diff(c,"days");return o>=0&&o<7})):"all days"===t?e:e.filter((function(e){return e.projectName===t})),a(c)}),[e,t]),s}(x,a);return Object(b.jsx)(O.Provider,{value:{defaultProject:c,selectedProject:a,setSelectedProject:d,todos:v,projects:p,selectedTodo:h,setSelectedTodo:f},children:t})}var h=function(e){var t=e.children,c=Object(n.useContext)(O).setSelectedTodo,o=Object(n.useRef)();Object(n.useEffect)((function(){return document.addEventListener("click",s),function(){return document.removeEventListener("click",s)}}));var s=function(e){(e.target===o.current||o.current.contains(e.target))&&c(void 0)};return Object(b.jsx)("div",{className:"Sidebar",ref:o,children:t})};var f=function(e){var t=e.children;return Object(b.jsx)("div",{className:"Main",children:t})},x=c(168);var p=function(){return Object(b.jsxs)("div",{className:"User",children:[Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)(x.a,{color:"#025955"})}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{children:"To-Do App"}),Object(b.jsx)("a",{href:"#",children:"Logout!"})]})]})},v=c(18);var N=function(e){var t=e.children,c=e.showModal,o=e.setShowModal,s=Object(n.useRef)(),a=Object(v.useSpring)({opacity:c?1:0,top:c?"25%":"0%",config:{friction:10}});return c&&Object(b.jsx)("div",{className:"Modal",ref:s,onClick:function(e){e.target===s.current&&o(!1)},children:Object(b.jsx)(v.animated.div,{style:a,className:"m-container",children:t})})},y=c(171),S=c(172),g=c(179),C=c(180),k=c(181),w=c(22),M=c(173),T=c(193),Y=c(117),D=c(118),P=c(170),E=Object(D.a)({palette:{primary:{main:"#00917C"}}});var A=function(e){var t=e.handleSubmit,c=e.heading,n=void 0!==c&&c,o=e.text,s=e.setText,a=e.day,r=e.setDay,i=e.time,d=e.setTime,j=e.todoProject,l=e.setTodoProject,u=e.projects,O=e.showButtons,m=void 0!==O&&O,h=e.setShowModal,f=void 0!==h&&h;return Object(b.jsx)(P.a,{theme:E,children:Object(b.jsx)(w.a,{utils:Y.a,children:Object(b.jsxs)("form",{onSubmit:t,className:"TodoForm",children:[Object(b.jsxs)("div",{className:"text",children:[n&&Object(b.jsx)("h3",{children:n}),Object(b.jsx)("input",{type:"text",value:o,onChange:function(e){return s(e.target.value)},placeholder:"To do ...",autoFocus:!0})]}),Object(b.jsxs)("div",{className:"remind",children:[Object(b.jsx)(y.a,{className:"icons-style",color:"#025955"}),Object(b.jsx)("p",{children:"Remind Me!"})]}),Object(b.jsxs)("div",{className:"pick-day",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)(S.a,{color:"#025955"}),Object(b.jsx)("p",{children:"Choose a day"})]}),Object(b.jsx)(M.a,{value:a,onChange:function(e){return r(e)}})]}),Object(b.jsxs)("div",{className:"pick-time",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)(g.a,{color:"#025955"}),Object(b.jsx)("p",{children:"Choose time"})]}),Object(b.jsx)(T.a,{value:i,onChange:function(e){return d(e)}})]}),Object(b.jsxs)("div",{className:"pick-project",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)(C.a,{className:"icons-style",color:"#025955"}),Object(b.jsx)("p",{children:"Choose a project"})]}),Object(b.jsx)("div",{className:"projects",children:u.length>0?u.map((function(e){return Object(b.jsx)("div",{className:"project ".concat(j===e.name?"active":""),onClick:function(){return l(e.name)},children:e.name},e.id)})):Object(b.jsx)("div",{style:{color:"#ff0000",fontWeight:"600",letterSpacing:"0.35px"},children:"Please add a project before proceeding"})})]}),m&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"cancel",onClick:function(){return f(!1)},children:Object(b.jsx)(k.a,{size:"35"})}),Object(b.jsx)("div",{className:"confirm",children:Object(b.jsx)("button",{children:"+ Add to do"})})]})]})})})},z=["today","next 7 days","all days"],B=c(116),I=c.n(B);var L=function(){var e=Object(n.useContext)(O),t=e.projects,c=e.selectedProject,o=Object(n.useState)(!1),s=Object(r.a)(o,2),a=s[0],i=s[1],d=Object(n.useState)(""),l=Object(r.a)(d,2),m=l[0],h=l[1],f=Object(n.useState)(new Date),x=Object(r.a)(f,2),p=x[0],v=x[1],y=Object(n.useState)(new Date),S=Object(r.a)(y,2),g=S[0],C=S[1],k=Object(n.useState)(c),w=Object(r.a)(k,2),M=w[0],T=w[1];return Object(n.useEffect)((function(){T(c)}),[c]),Object(b.jsxs)("div",{className:"AddNewTodo",children:[Object(b.jsx)("div",{className:"btn",children:Object(b.jsx)("button",{onClick:function(){return i(!0)},children:"+ New To Do"})}),Object(b.jsx)(N,{showModal:a,setShowModal:i,children:Object(b.jsx)(A,{handleSubmit:function(e){e.preventDefault(),m&&!z.includes(M)&&(u.firestore().collection("todos").add({text:m,date:j()(p).format("MM/DD/YYYY"),day:j()(p).format("d"),time:j()(g).format("hh:mm A"),checked:!1,color:I()(),projectName:M}),i(!1),h(""),v(new Date),C(new Date))},heading:"Add new to do!",text:m,setText:h,day:p,setDay:v,time:g,setTime:C,todoProject:M,setTodoProject:T,projects:t,showButtons:!0,setShowModal:i})})]})},F=c(182),R=c(183);var V=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),c=t[0],o=t[1],s=Object(n.useContext)(O).setSelectedProject,a=Object(v.useSpring)({transform:c?"rotate(0deg)":"rotate(180deg)",config:{friction:10}}),i=Object(v.useSpring)({display:c?"block":"none",lineHeight:c?1.2:0});return Object(b.jsxs)("div",{className:"Calendar",children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)(F.a,{size:24,color:"#025955"}),Object(b.jsx)("p",{children:"Calendar"})]}),Object(b.jsx)(v.animated.div,{style:a,onClick:function(){return o(!c)},className:"btns",children:Object(b.jsx)("span",{children:Object(b.jsx)(R.a,{size:24,color:"#025955"})})})]}),Object(b.jsx)(v.animated.div,{style:i,className:"items",children:z.map((function(e){return Object(b.jsx)("div",{className:"item",onClick:function(){return s(e)},children:e},e)}))})]})},K=c(187);var H=function(e){var t=e.handleSubmit,c=e.heading,n=e.value,o=e.setValue,s=e.setShowModal,a=e.confirmButtonText;return Object(b.jsxs)("form",{onSubmit:t,className:"ProjectForm",children:[Object(b.jsx)("h3",{children:c}),Object(b.jsx)("input",{value:n,onChange:function(e){return o(e.target.value)},type:"text",placeholder:"project name...",autoFocus:!0}),Object(b.jsx)("button",{className:"cancel",role:"button",onClick:function(){return s(!1)},children:"Cancel"}),Object(b.jsx)("button",{className:"confirm",children:a})]})},J=c(184),Q=c(89),U=c.n(Q),W=c(90),Z=c.n(W),q=Z()(U.a);var G=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],o=t[1],s=Object(n.useState)(""),a=Object(r.a)(s,2),i=a[0],d=a[1];return Object(b.jsxs)("div",{className:"AddNewProject",children:[Object(b.jsx)("div",{className:"add-button",children:Object(b.jsx)("span",{onClick:function(){return o(!0)},children:Object(b.jsx)(J.a,{size:24,color:"#025955"})})}),Object(b.jsx)(N,{showModal:c,setShowModal:o,children:Object(b.jsx)(H,{handleSubmit:function(e){if(e.preventDefault(),i){var t=u.firestore().collection("projects");t.where("name","==",i).get().then((function(e){e.empty?t.add({name:i}):q.fire({text:"Project already exists",icon:"warning",iconColor:"#00917C",confirmButtonColor:"#025955"})})),o(!1),d("")}},heading:"New project!",value:i,setValue:d,setShowModal:o,confirmButtonText:"+ Add Project"})})]})},X=c(185),$=c(186),_=Z()(U.a);var ee=function(e){var t=e.project,c=e.setShowModal,o=Object(n.useState)(t.name),s=Object(r.a)(o,2),a=s[0],i=s[1],d=Object(n.useContext)(O),j=d.selectedProject,l=d.setSelectedProject;return Object(b.jsx)("div",{className:"RenameProject",children:Object(b.jsx)(H,{handleSubmit:function(e){e.preventDefault(),function(e,t){var c=u.firestore().collection("projects"),n=u.firestore().collection("todos"),o=e.name;c.where("name","==",t).get().then((function(s){s.empty?c.doc(e.id).update({name:t}).then((function(){n.where("projectName","==",o).get().then((function(e){e.forEach((function(e){e.ref.update({projectName:t})}))})).then((function(){j===o&&l(t)}))})):_.fire({text:"Project with the same name already exists!",icon:"warning",iconColor:"#00917C",confirmButtonColor:"#025955"})}))}(t,a),c(!1)},heading:"Edit project name!",value:a,setValue:i,setShowModal:c,confirmButtonText:"Confirm"})})};var te=function(e){var t=e.project,c=e.edit,o=Object(n.useContext)(O),s=o.defaultProject,a=o.selectedProject,i=o.setSelectedProject,d=Object(n.useState)(!1),j=Object(r.a)(d,2),l=j[0],m=j[1],h=Object(v.useSpring)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),f=Object(v.useTransition)(c,{from:{opacity:0,right:"-20px"},enter:{opacity:1,right:"0px"},leave:{opacity:0,right:"-20px"}});return Object(b.jsxs)(v.animated.div,{style:h,className:"Project",children:[Object(b.jsx)("div",{className:"name",onClick:function(){return i(t.name)},children:t.name}),Object(b.jsx)("div",{className:"btns",children:f((function(e,c){return c?Object(b.jsxs)(v.animated.div,{style:e,className:"edit-delete",children:[Object(b.jsx)("span",{className:"edit",onClick:function(){return m(!0)},children:Object(b.jsx)(X.a,{size:"15",color:"#3b3b3b"})}),Object(b.jsx)("span",{className:"delete",onClick:function(){return function(e){u.firestore().collection("projects").doc(e.id).delete().then((function(){u.firestore().collection("todos").where("projectName","==",e.name).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))})).then((function(){a===e.name&&i(s)}))}(t)},children:Object(b.jsx)($.a,{size:"15",color:"#3b3b3b"})})]}):0===t.numOfTodos?"":Object(b.jsx)(v.animated.div,{style:e,className:"total-todos",children:t.numOfTodos})}))}),Object(b.jsx)(N,{showModal:l,setShowModal:m,children:Object(b.jsx)(ee,{project:t,setShowModal:m})})]})};var ce=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),c=t[0],o=t[1],s=Object(n.useState)(!1),a=Object(r.a)(s,2),i=a[0],d=a[1],j=i?"#1EC94C":"#025955",l=i?"onClick":"edit",u=Object(n.useContext)(O).projects,m=Object(v.useSpring)({transform:c?"rotate(0deg)":"rotate(180deg)",config:{friction:10}}),h=Object(v.useSpring)({display:c?"block":"none",lineHeight:c?1.2:0});return Object(b.jsxs)("div",{className:"Projects",children:[Object(b.jsxs)("div",{className:"header",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)(C.a,{size:24,color:"#025955"}),Object(b.jsx)("p",{children:"Projects"})]}),Object(b.jsxs)("div",{className:"btns",children:[c&&u.length>0&&Object(b.jsx)("span",{className:l,onClick:function(){return d((function(e){return!e}))},children:Object(b.jsx)(K.a,{size:16,color:j})}),Object(b.jsx)(G,{}),Object(b.jsx)(v.animated.span,{className:"arrow",onClick:function(){return o(!c)},style:m,children:Object(b.jsx)(R.a,{size:24,color:"#025955"})})]})]}),Object(b.jsx)(v.animated.div,{style:h,className:"items",children:u.map((function(e){return Object(b.jsx)(te,{project:e,edit:i},e.id)}))})]})},ne=c(188),oe=c(189),se=c(190),ae=c(191);var re=function(e){var t=e.todo,c=Object(n.useState)(!1),o=Object(r.a)(c,2),s=o[0],a=o[1],d=Object(n.useContext)(O),l=d.selectedTodo,m=d.setSelectedTodo,h=function(e){!function(e){u.firestore().collection("todos").doc(e.id).delete()}(e),l===e&&m(!1)},f=Object(v.useSpring)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),x=Object(v.useTransition)(t.checked,{from:{position:"absolute",transform:"scale(0)"},enter:{transform:"scale(1)"},leave:{transform:"scale(0)"}});return Object(b.jsx)(v.animated.div,{style:f,className:"Todo",children:Object(b.jsxs)("div",{className:"todo-container",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[Object(b.jsx)("div",{className:"check-todo",onClick:function(){return function(e){u.firestore().collection("todos").doc(e.id).update({checked:!e.checked})}(t)},children:x((function(e,c){return c?Object(b.jsx)(v.animated.span,{style:e,className:"checked",children:Object(b.jsx)(ne.a,{color:"#bebebe"})}):Object(b.jsx)(v.animated.span,{style:e,className:"unchecked",children:Object(b.jsx)(oe.a,{color:t.color})})}))}),Object(b.jsxs)("div",{className:"text",onClick:function(){return m(t)},children:[Object(b.jsx)("p",{style:{color:t.checked?"#bebebe":"#000000"},children:t.text}),Object(b.jsxs)("span",{style:{color:t.checked?"#bebebe":""},children:[t.time," - ",t.projectName]}),Object(b.jsx)("div",{className:"line ".concat(t.checked?"line-through":"")})]}),Object(b.jsx)("div",{className:"add-to-next-day",onClick:function(){return function(e){var t=j()(e.date,"MM/DD/YYYY").add(1,"days"),c=Object(i.a)(Object(i.a)({},e),{},{date:t.format("MM/DD/YYYY"),day:t.format("d"),checked:!1});delete c.id,u.firestore().collection("todos").add(c)}(t)},children:t.checked&&Object(b.jsx)("span",{className:"arrow-clock-icon icon-style",children:Object(b.jsx)(se.a,{color:"#3b3b3b"})})}),Object(b.jsx)("div",{className:"delete-todo",onClick:function(){return h(t)},children:(s||t.checked)&&Object(b.jsx)("span",{className:"delete-icon icon-style",children:Object(b.jsx)(ae.a,{color:"#3b3b3b"})})})]})})};var ie=function(e){var t=e.todos,c=Object(n.useState)([]),o=Object(r.a)(c,2),s=o[0],a=o[1];return Object(n.useEffect)((function(){var e=["0","1","2","3","4","5","6"].map((function(e){return{todos:t.filter((function(t){return t.day===e})),number:e}})),c=parseInt(j()().format("d")),n=e.slice(c).concat(e.slice(0,c));a(n)}),[t]),Object(b.jsx)("div",{className:"Next7Days",children:s.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"day",children:[Object(b.jsxs)("div",{className:"name",children:[j()(e.number,"d").format("dddd"),e.number===j()().format("d")&&" (Today)"]}),Object(b.jsxs)("div",{className:"total-todos",children:["(",e.todos.length,")"]})]}),Object(b.jsx)("div",{className:"todos",children:e.todos.map((function(e){return Object(b.jsx)(re,{todo:e},e.id)}))})]},e.number)}))})};var de=function(){var e=Object(n.useContext)(O),t=e.todos,c=e.selectedProject;return Object(b.jsxs)("div",{className:"Todos",children:[Object(b.jsx)("div",{className:"selected-project",children:c}),Object(b.jsx)("div",{className:"todos",children:"next 7 days"===c?Object(b.jsx)(ie,{todos:t}):t.map((function(e){return Object(b.jsx)(re,{todo:e},e.id)}))})]})};var je=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],o=t[1],s=Object(n.useState)(new Date),a=Object(r.a)(s,2),i=a[0],d=a[1],l=Object(n.useState)(new Date),m=Object(r.a)(l,2),h=m[0],f=m[1],x=Object(n.useState)(""),p=Object(r.a)(x,2),v=p[0],N=p[1],y=Object(n.useContext)(O),S=y.selectedTodo,g=y.projects;return Object(n.useEffect)((function(){S&&(o(S.text),d(j()(S.date,"MM/DD/YYYY")),f(j()(S.time,"hh:mm A")),N(S.projectName))}),[S]),Object(n.useEffect)((function(){S&&u.firestore().collection("todos").doc(S.id).update({text:c,date:j()(i).format("MM/DD/YYYY"),day:j()(i).format("d"),time:j()(h).format("hh:mm A"),projectName:v})}),[c,i,h,v]),Object(b.jsx)("div",{children:S&&Object(b.jsxs)("div",{className:"EditTodo",children:[Object(b.jsx)("div",{className:"header",children:"Edit Todo"}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(A,{handleSubmit:function(e){},text:c,setText:o,day:i,setDay:d,time:h,setTime:f,todoProject:v,setTodoProject:N,projects:g})})]})})};var le=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)(h,{children:[Object(b.jsxs)("div",{className:"side-container-1",children:[Object(b.jsx)(p,{}),Object(b.jsx)(L,{})]}),Object(b.jsxs)("div",{className:"side-container-2",children:[Object(b.jsx)(V,{}),Object(b.jsx)(ce,{})]})]}),Object(b.jsxs)(f,{children:[Object(b.jsx)(de,{}),Object(b.jsx)(je,{})]})]})};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(m,{children:Object(b.jsx)(le,{})})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.1fa28cb7.chunk.js.map